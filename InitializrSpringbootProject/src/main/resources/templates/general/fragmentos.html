<!-- Fragmento #1 que irá en el head de todas las páginas, así se incluye todo lo necesario de configuración-->
<head th:fragment="head">
    <title>SuperSalon</title>
    <meta charset="UTF-8"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/fav/favicon-16x16.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/fav/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="96x96" href="/fav/favicon-96x96.png"/>
    <link rel="icon" type="image/png" sizes="256x256" href="/fav/favicon-256x256.png"/>
    <link th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" rel="stylesheet"/>
    <link th:href="@{/webjars/font-awesome/css/all.css}" rel="stylesheet"/>
    <script th:src="@{/js/rutinas.js}"></script>
    <script th:src="@{/webjars/jquery/jquery.min.js}"></script>
    <script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
</head>


<!-- Fragmento #2  define el encabezado de las páginas, en concreto el menú y enlaces rápidos -->
<header th:fragment="header" class="header">
    <nav class="navbar navbar-expand-sm p-0">
        <div class="container">                    
            <a th:href="@{/}" class="navbar-brand">[[#{aplicacion.titulo}]]</a>
            <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                <ul class="navbar-nav">
                    <li class="nav-item px-2"><a class="nav-link" th:href="@{/categoria/listado}">[[#{plantilla.categorias}]]</a></li>
                    <li class="nav-item px-2"><a class="nav-link" th:href="@{/servicio/listado}">[[#{plantilla.servicios}]]</a></li>
                    <li class="nav-item px-2"><a class="nav-link" th:href="@{/reserva/listado}">[[#{plantilla.reservas}]]</a></li>
                    <li class="nav-item px-2"><a href="#" class="nav-link" onclick="mostrarConsultaToast()">
                            [[#{plantilla.consultas}]]
                        </a></li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">
                            [[#{plantilla.idioma}]]</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" th:href="@{/(lang=es)}">Español</a></li>
                            <li><a class="dropdown-item" th:href="@{/(lang=en)}">English</a></li>
                            <li><a class="dropdown-item" th:href="@{/(lang=fr)}">Française</a></li>
                            <li><a class="dropdown-item" th:href="@{/(lang=pt)}">Portugaise</a></li>
                        </ul>
                    </li>
                </ul>
                <div id="resultBlock">
                </div>         

            </div>
        </div>
    </nav>
    <section id="main-header" class="py-2 bg-success text-white">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h1><i class="fas fa-cog"></i> [[#{plantilla.suSalon}]]</h1>
                </div>
            </div>
        </div>
    </section>
</header>



<!-- Fragmento #3  define el footer de las páginas, aparte de esto se podria incluir enlaces a redes socilaes y demás -->
<footer th:fragment="footer" class="p-2 mt-5 bg-info text-white">
    <p class="lead text-center">[[#{plantilla.derechos}]] &COPY;</p>
</footer>

<!-- Fragmentos #4 define una ventana tipo Toast para mostrar mensajes al usuario -->
<section th:fragment="mostrarToast">
    <div aria-live="polite" aria-atomic="true" 
         class="position-fixed top-50 start-50 translate-middle" style="z-index: 1080;">                
        <div th:if="${error}" class="toast show"
             role="alert"
             aria-live="assertive"                     
             aria-atomic="true"
             data-bs-autohide="true">
            <div class="toast-header text-white bg-danger">
                <i class="fa-solid fa-bomb"></i> <strong class=me-auto> [[#{error}]]</strong>
            </div>
            <div class="toast-body">
                <p>[[${error}]]</p>
                <div class="mt-2 pt-2 border-top text-center">
                    <button type="button" class="btn btn-secondary btn-sm" 
                            data-bs-dismiss="toast">[[#{accion.cerrar}]]</button>
                </div>
            </div>
        </div>
        <div th:if="${todoOk}" class="toast show"
             role="status"
             aria-live="polite"
             aria-atomic="true"
             data-bs-autohide="true">
            <div class="toast-header text-white bg-success">
                <i class="fa-solid fa-square-check"></i> <strong class=me-auto> [[#{atencion}]]</strong>
            </div>
            <div class="toast-body">
                <p>[[${todoOk}]]</p>
                <div class="mt-2 pt-2 border-top text-center">
                    <button type="button" class="btn btn-secondary btn-sm" 
                            data-bs-dismiss="toast">[[#{accion.cerrar}]]</button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Fragmento #5: Información del Salón -->
<section th:fragment="inicioInfo" class="py-4">
    <div class="container">
        <div class="row align-items-center">

            <div class="col-md-6">
                <h2 class="text-success">[[#{inicio.bienvenida}]]</h2>

                <p class="lead">
                    [[#{inicio.descripcion1}]]
                </p>

                <p>
                    [[#{inicio.descripcion2}]]
                </p>
            </div>

            <div class="col-md-6 text-center">
                <img th:src="@{/img/salon_imagen.jpg}"
                     class="img-fluid rounded shadow"
                     alt="Imagen del salón">
            </div>

        </div>
    </div>
</section>

<!-- Fragmento #6: Promoción -->
<section th:fragment="promocionServicio" class="py-4 bg-light">
    <div class="container text-center">

        <h2 class="text-primary">[[#{promocion.titulo}]]</h2>

        <p class="lead">
            [[#{promocion.descripcion}]]
        </p>

        <span class="badge bg-success fs-6 p-2">
            [[#{promocion.vigencia}]]
        </span>

    </div>
</section>

<!-- Fragmento #7: Servicio Destacado con iFrame -->
<section th:fragment="servicioIframe" class="py-4">
    
    <div class="container text-center">

        <h2 class="mb-4">[[#{servicio.destacado.titulo}]]</h2>
        <h3 class="mb-4">[[#{servicio.destacado.balayage}]]</h3>

        <iframe th:src="@{/img/balayage.jpg}"
                width="100%"
                height="400"
                style="border: 2px solid #198754; border-radius: 10px;"
                title="Balayage">
        </iframe>

        <p class="mt-3">
            [[#{servicio.destacado.descripcion}]]
        </p>

    </div>
</section>

<!-- Fragmento #8: ToastConsultas -->

<section th:fragment="toastConsulta">

    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="consultaToast"
             class="toast"
             role="alert"
             aria-live="assertive"
             aria-atomic="true"
             data-bs-autohide="false">

            <div class="toast-header bg-info text-white">
                <i class="fa-solid fa-comment-dots me-2"></i>
                <strong class="me-auto">[[#{consulta.titulo}]]</strong>
                <button type="button" class="btn-close btn-close-white"
                        data-bs-dismiss="toast"></button>
            </div>

            <div class="toast-body">
                <form th:action="@{/consulta/enviar}" method="post" class="was-validated">

                    <div class="mb-2">
                        <label class="form-label">[[#{consulta.nombre}]]</label>
                        <input type="text"
                               name="nombre"
                               class="form-control"
                               required>
                    </div>

                    <div class="mb-2">
                        <label class="form-label">[[#{consulta.contacto}]]</label>
                        <input type="text"
                               name="contacto"
                               class="form-control"
                               required>
                    </div>

                    <div class="mb-2">
                        <label class="form-label">[[#{consulta.mensaje}]]</label>
                        <textarea name="mensaje"
                                  class="form-control"
                                  rows="3"
                                  required></textarea>
                    </div>

                    <div class="d-grid mt-3">
                        <button type="submit" class="btn btn-success">
                            <i class="fa-solid fa-paper-plane"></i>
                            [[#{consulta.enviar}]]
                        </button>
                    </div>

                </form>
            </div>

        </div>
    </div>

</section>